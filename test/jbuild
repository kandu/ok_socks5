(jbuild_version 1)

(executable
 ((name test)
  (flags (:standard -safe-string))
  (modules (test))
  (libraries (ok_socks5 oUnit))
  (modes (byte))
  ))

(executable
 ((name demo_s)
  (public_name demo_s)
  (flags (:standard -safe-string))
  (modules (demo_s))
  (libraries (ok_socks5 core_kernel lwt.unix ppx_deriving.runtime))
  (preprocess (pps (lwt_ppx ppx_ok_lwt ppx_ok_monad ppx_deriving.std)))
  ))

(executable
 ((name demo_f)
  (public_name demo_f)
  (flags (:standard -safe-string))
  (modules (demo_f))
  (libraries (ok_socks5 core_kernel lwt.unix ppx_deriving.runtime))
  (preprocess (pps (lwt_ppx ppx_ok_lwt ppx_ok_monad ppx_deriving.std)))
  ))

(alias
 ((name runtest)
  (deps (test.exe))
  (action (run ${<}))))

